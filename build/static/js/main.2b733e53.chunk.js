(this.webpackJsonpfrontti_edarivaalitulos=this.webpackJsonpfrontti_edarivaalitulos||[]).push([[0],{27:function(e,t,a){e.exports=a(60)},32:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),i=(a(32),a(33),a(7)),u=a(12),o=a.n(u),s=a(61),d=a(62),m=a(63),f=a(67),E=a(64),p=function(e){var t=e.candidate,a=e.setCurrentCandidate,n=t.name.replace(/\s/g,"");n.includes("'")&&(n.split("'")[1].split("'")[0],n=n.split("'")[0]);var l=n.split(",");return n="".concat(l[1]," ").concat(l[0]),r.a.createElement("div",null,r.a.createElement("span",{className:"candidate",onClick:function(){return a(n)}},n," / ",t.value," ",t.seats?"/ \u2605":""))},C=function(e){var t=e.votes,a=e.candidates;return r.a.createElement(s.a,{className:"statBox"},r.a.createElement("span",null,"\ud83d\uddf3\ufe0f:",r.a.createElement(d.a,{color:"default"},t),a?r.a.createElement("span",null,"\ud83d\udc64:",r.a.createElement(d.a,{color:"default"},a)):""))},v=function(e){var t=e.group,a=e.setCurrentCandidate,l=e.filter,c=Object(n.useState)(!0),u=Object(i.a)(c,2),o=u[0],v=u[1],y=t.children.length;return r.a.createElement("div",{style:{marginTop:"5px"}},r.a.createElement(s.a,null,r.a.createElement(m.a,{onClick:function(){return v(!o)}},r.a.createElement("h5",null,t.name," ",r.a.createElement(d.a,{color:"danger"},t.seats)),r.a.createElement(C,{votes:t.value,candidates:y})),r.a.createElement(f.a,{isOpen:o},r.a.createElement(E.a,null,t.children.map((function(e){return e.name.toLowerCase().includes(l)?r.a.createElement(p,{candidate:e,key:e.name,setCurrentCandidate:a}):""}))))))},y=function(e){var t=e.coalition,a=e.setCurrentCandidate,l=e.filter,c=Object(n.useState)(!0),u=Object(i.a)(c,2),o=u[0],p=u[1];return r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(s.a,null,r.a.createElement(m.a,{onClick:function(){return p(!o)}},r.a.createElement("h4",null,t.name," ",r.a.createElement(d.a,{color:"warning"},t.seats)),r.a.createElement(C,{votes:t.value})),r.a.createElement(f.a,{isOpen:o},r.a.createElement(E.a,null,t.children.map((function(e){return JSON.stringify(e).toLowerCase().includes(l)?r.a.createElement(v,{group:e,key:e.name,setCurrentCandidate:a,filter:e.name.toLowerCase().includes(l)?"":l}):""}))))))},b=function(e){var t=e.candidateData,a=e.setCurrentCandidate,n=e.filter;return void 0===t?"":r.a.createElement(r.a.Fragment,null,t.children.map((function(e){return JSON.stringify(e).toLowerCase().includes(n)?r.a.createElement(y,{coalition:e,key:e.name,setCurrentCandidate:a,filter:e.name.toLowerCase().includes(n)?"":n}):""})))},O=function(e){var t=e.setCurrent,a=e.current,n=e.options,l={color:"gray"};return r.a.createElement("h1",null,n.map((function(e){return r.a.createElement("span",{style:a!=e?l:void 0,key:e,onClick:function(){return t(e)}}," ",e)})))},h=function(e){var t=e.currentCandidate,a=e.candidate,n=e.setCurrentCandidate;if(void 0===a)return"";var l=Array.from(new Set(a.years.map((function(e){return e.nickname})))).filter(Boolean),c=l.map((function(e,t){return(t?", ":"")+e}));return r.a.createElement("div",null,r.a.createElement("h1",null,t),0!==l.length?r.a.createElement("h2",null,"(",c,")"):"","Total votes: ",a.totalVotes," ",r.a.createElement("br",null),"Times up for election: ",a.times,a.years.map((function(e){return r.a.createElement("div",{key:e.year},r.a.createElement("b",null,e.year," "),"votes: ",e.votes," ",e.elected?"/ \u2605":""," (",e.coalition,"/",e.group,")",r.a.createElement("br",null))})),r.a.createElement("button",{onClick:function(){return n("")}},"Return "))},g=function(e){var t=e.candidateData,a=e.setCurrentCandidate,n=e.filter;var l=Object.values(t).sort((function(e,t){return t.totalVotes-e.totalVotes})).slice(0,300);return r.a.createElement("div",null,l.map((function(e,t){return JSON.stringify(e).toLowerCase().includes(n)?r.a.createElement("span",{className:"candidate",key:e.name,onClick:function(){return a(e.name)}},t+1,". ",e.name," ",r.a.createElement("b",null,e.totalVotes)," ",r.a.createElement("i",null,e.times,"x"),r.a.createElement("br",null)):""})))},j=a(65),k=a(66),S=function(e){var t=e.filter,a=e.setFilter;return r.a.createElement(j.a,null,r.a.createElement(k.a,{type:"text",placeholder:"Try 'HYAL' or 'Laura'",value:t,onChange:function(e){a(e.target.value.toLowerCase())},style:{marginBottom:"10px"}}))};var w=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(2018),u=Object(i.a)(c,2),s=u[0],d=u[1],m=Object(n.useState)({}),f=Object(i.a)(m,2),E=f[0],p=f[1],C=Object(n.useState)(""),v=Object(i.a)(C,2),y=v[0],j=v[1],k=Object(n.useState)("yearly"),w=Object(i.a)(k,2),L=w[0],x=w[1],N=Object(n.useState)(""),J=Object(i.a)(N,2),T=J[0],B=J[1];Object(n.useEffect)((function(){o.a.get("http://localhost:3001/api/sample").then((function(e){l(e.data)}))}),[]),Object(n.useEffect)((function(){o.a.get("http://localhost:3001/api/candidate").then((function(e){p(e.data)}))}),[]);var D=["yearly","top candidates"];return""!==y?r.a.createElement("div",null,r.a.createElement(h,{currentCandidate:y,candidate:E[y],setCurrentCandidate:j})):"yearly"===L?r.a.createElement("div",null,r.a.createElement(O,{setCurrent:x,current:L,options:D}),r.a.createElement(O,{setCurrent:d,current:s,options:Object.keys(a)}),r.a.createElement(S,{filter:T,setFilter:B}),r.a.createElement(b,{candidateData:a[s],setCurrentCandidate:j,filter:T})):"top candidates"===L?r.a.createElement("div",null,r.a.createElement(O,{setCurrent:x,current:L,options:D}),r.a.createElement(S,{filter:T,setFilter:B}),r.a.createElement(g,{candidateData:E,setCurrentCandidate:j,filter:T})):void 0};c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.2b733e53.chunk.js.map