(this.webpackJsonpfrontti_edarivaalitulos=this.webpackJsonpfrontti_edarivaalitulos||[]).push([[0],{31:function(e,t,a){e.exports=a(64)},36:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),i=(a(36),a(37),a(10)),u=a(15),o=a.n(u),s=a(66),d=a(67),m=a(68),f=a(74),p=a(69),E=function(e){var t=e.candidate,a=e.setCurrentCandidate,n=t.name.replace(/\s/g,"");n.includes("'")&&(n=n.split("'")[0]);var l=n.split(",");return n="".concat(l[1]," ").concat(l[0]),r.a.createElement("div",null,r.a.createElement("span",{className:"candidate",onClick:function(){return a(n)}},n," / ",t.value," ",t.seats?"/ \u2605":""))},v=function(e){var t=e.votes,a=e.candidates;return r.a.createElement("div",{className:"statBox"},r.a.createElement("span",null,"\ud83d\uddf3\ufe0f:",r.a.createElement(s.a,{color:"default"},t),a?r.a.createElement("span",null,"\ud83d\udc64:",r.a.createElement(s.a,{color:"default"},a)):""))},g=function(e){var t=e.group,a=e.setCurrentCandidate,l=e.filter,c=Object(n.useState)(!0),u=Object(i.a)(c,2),o=u[0],g=u[1],C=t.children.length;return r.a.createElement("div",{style:{marginTop:"5px"}},r.a.createElement(d.a,null,r.a.createElement(m.a,{onClick:function(){return g(!o)}},r.a.createElement("b",null,t.name," ",r.a.createElement(s.a,{color:"default"},t.seats)),r.a.createElement(v,{votes:t.value,candidates:C})),r.a.createElement(f.a,{isOpen:o},r.a.createElement(p.a,null,t.children.map((function(e){return e.name.toLowerCase().includes(l)?r.a.createElement(E,{candidate:e,key:e.name,setCurrentCandidate:a}):""}))))))},C=function(e){var t=e.coalition,a=e.setCurrentCandidate,l=e.filter,c=Object(n.useState)(!0),u=Object(i.a)(c,2),o=u[0],E=u[1],C=0;t.children.forEach((function(e){return C+=e.children.length}));return r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(d.a,null,r.a.createElement(m.a,{onClick:function(){return E(!o)}},r.a.createElement("b",null,t.name," ",r.a.createElement(s.a,{color:"default"},t.seats)),r.a.createElement(v,{votes:t.value,candidates:C})),r.a.createElement(f.a,{isOpen:o},r.a.createElement(p.a,null,t.children.map((function(e){return JSON.stringify(e).toLowerCase().includes(l)?r.a.createElement(g,{group:e,key:e.name,setCurrentCandidate:a,filter:e.name.toLowerCase().includes(l)?"":l}):""}))))))},y=function(e){var t=e.candidateData,a=e.setCurrentCandidate,n=e.filter;return void 0===t?"":r.a.createElement(r.a.Fragment,null,t.children.map((function(e){return JSON.stringify(e).toLowerCase().includes(n)?r.a.createElement(C,{coalition:e,key:e.name,setCurrentCandidate:a,filter:e.name.toLowerCase().includes(n)?"":n}):""})))},b=function(e){var t=e.setCurrent,a=e.current,n=e.options,l={color:"gray"};return r.a.createElement("h1",null,n.map((function(e){return r.a.createElement("span",{style:a!=e?l:void 0,key:e,onClick:function(){return t(e)}}," ",e)})))},k=function(e){var t=e.currentCandidate,a=e.candidate,n=e.setCurrentCandidate;if(void 0===a)return"";var l=Array.from(new Set(Object.values(a.years).map((function(e){return e.nickname})))).filter(Boolean),c=l.map((function(e,t){return(t?", ":"")+e}));return r.a.createElement("div",null,r.a.createElement("h1",null,t),0!==l.length?r.a.createElement("h2",null,"(",c,")"):"","Total votes: ",a.totalVotes," ",r.a.createElement("br",null),"Times up for election: ",a.times,Object.values(a.years).map((function(e){return r.a.createElement("div",{key:e.year},r.a.createElement("b",null,e.year," "),"votes: ",e.votes," ",e.elected?"/ \u2605":""," (",e.coalition,"/",e.group,")",r.a.createElement("br",null))})),r.a.createElement("button",{onClick:function(){return n("")}},"Return "))},h=a(30),O=a(73),j=a(72),w=a(70),S=a(71),x=function(e){var t=e.filter,a=e.setFilter;return r.a.createElement(w.a,null,r.a.createElement(S.a,{type:"text",placeholder:"Try 'sn\xe4f', 'osy' or 'lauri'",value:t,onChange:function(e){a(e.target.value.toLowerCase())},style:{marginBottom:"10px"}}))},F=function(e){var t=e.groupName,a={backgroundColor:{tsempp:"lightblue",studo:"lightgreen",nation:"lightgreen",stud:"lightgreen",codtho:"lightgreen","\xe4mnesf":"lightgreen",agrof:"lightgreen",sitvas:"red",hyvi:"green",kok:"blue",maltil:"blue",osy:"lightcoral",sd:"lightcoral",lks:"orange",help1:"orange",help2:"orange",help3:"orange",eky:"orange",ekyyfk:"orange","pyk\xe4l\xe4":"orange","(h)lks":"orange","lks/hl":"orange","viik-n":"purple",kumpu:"purple",viikki:"purple",valt:"purple",human:"purple",teol:"purple",penger:"purple",meikku:"purple","k\xe4ytt":"purple",ps:"#856404",peruss:"#856404","kesk.":"yellow",kesk:"yellow"}[t]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{style:a},t),"   ")},L=function(e,t){return O.a(j.a("year",t))(e.years)},V=function(e){var t=e.candidate,a=e.index,n=e.setCurrentCandidate,l=e.setting,c=e.selectedYear,i=Array.from(new Set(Object.values(t.years).map((function(e){return e.group.toLowerCase()}))));"year"===l&&(i=[L(t,c).group.toLowerCase()]);var u=i.map((function(e){return r.a.createElement(F,{groupName:e,key:e+t.name})})),o=r.a.createElement(r.a.Fragment,null,a+1,". ",t.name,"  ",u);return r.a.createElement("div",null,r.a.createElement("span",{className:"candidate",key:t.name,onClick:function(){return n(t.name)}},o,"votes"===l?r.a.createElement("span",null,r.a.createElement("b",null,t.totalVotes)," ",r.a.createElement("i",null,t.times,"x")):"average"===l?r.a.createElement("span",null,t.totalVotes,"/",r.a.createElement("i",null,t.times)," ="," ",r.a.createElement("b",null,Math.round(t.totalVotes/t.times))):r.a.createElement("span",null,r.a.createElement("b",null,L(t,c).votes)),r.a.createElement("br",null)))},N=function(e){var t=e.candidates,a=e.setting,n=e.filter,l=e.setCurrentCandidate,c=e.selectedYear;return r.a.createElement("div",null,t.map((function(e,t){return(JSON.stringify("year"===a?e.years[c]:e)+e.name).toLowerCase().includes(n)?r.a.createElement(V,{candidate:e,index:t,setCurrentCandidate:l,setting:a,key:e.name,selectedYear:c}):""})))},J=function(e){var t=e.candidateData,a=e.setCurrentCandidate,l=e.filter,c=e.setFilter,u=Object(n.useState)("votes"),o=Object(i.a)(u,2),s=o[0],d=o[1],m=Object(n.useState)(2020),f=Object(i.a)(m,2),p=f[0],E=f[1],v=Object.values(t);if(0===v.length)return"";var g,C=Object(h.a)(v);"votes"===s?C=C.sort((function(e,t){return t.totalVotes-e.totalVotes})).slice(0,600):"average"===s?C=v.sort((function(e,t){return t.totalVotes/t.times-e.totalVotes/e.times})).filter((function(e){return e.times>1})).slice(0,300):"year"===s&&(C=(C=C.filter((function(e){return e.years.map((function(e){return e.year})).includes(p)}))).sort((g=p,function(e,t){return L(t,g).votes-L(e,g).votes})),console.log(C));var y={color:"gray"},k=r.a.createElement("p",null,"View top candidates for year:"," ",[2012,2014,2016,2018,2020].map((function(e){return r.a.createElement("b",{style:e!==p?y:void 0,key:e,onClick:function(){return E(e)}},e,"  ")}))),O=r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{current:s,setCurrent:d,options:["votes","average","year"]}),r.a.createElement(x,{filter:l,setFilter:c}));return r.a.createElement("div",null,O,"year"===s?k:"",r.a.createElement(N,{candidates:C,setting:s,filter:l,setCurrentCandidate:a,selectedYear:p}))};var T=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(2020),u=Object(i.a)(c,2),s=u[0],d=u[1],m=Object(n.useState)({}),f=Object(i.a)(m,2),p=f[0],E=f[1],v=Object(n.useState)(""),g=Object(i.a)(v,2),C=g[0],h=g[1],O=Object(n.useState)("top candidates"),j=Object(i.a)(O,2),w=j[0],S=j[1],F=Object(n.useState)(""),L=Object(i.a)(F,2),V=L[0],N=L[1];Object(n.useEffect)((function(){o.a.get("/api/sample").then((function(e){l(e.data)}))}),[]),Object(n.useEffect)((function(){o.a.get("/api/candidate").then((function(e){E(e.data)}))}),[]);var T=["yearly","top candidates"];return""!==C?r.a.createElement("div",null,r.a.createElement(k,{currentCandidate:C,candidate:p[C],setCurrentCandidate:h})):"yearly"===w?r.a.createElement("div",null,r.a.createElement(b,{setCurrent:S,current:w,options:T}),r.a.createElement(b,{setCurrent:d,current:s,options:Object.keys(a)}),r.a.createElement(x,{filter:V,setFilter:N}),r.a.createElement(y,{candidateData:a[s],setCurrentCandidate:h,filter:V})):"top candidates"===w?r.a.createElement("div",null,r.a.createElement(b,{setCurrent:S,current:w,options:T}),r.a.createElement(J,{candidateData:p,setCurrentCandidate:h,filter:V,setFilter:N})):void 0};c.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.6688c585.chunk.js.map