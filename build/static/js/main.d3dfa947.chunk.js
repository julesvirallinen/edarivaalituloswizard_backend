(this.webpackJsonpfrontti_edarivaalitulos=this.webpackJsonpfrontti_edarivaalitulos||[]).push([[0],{27:function(e,t,a){e.exports=a(60)},32:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),i=(a(32),a(33),a(7)),u=a(12),o=a.n(u),s=a(61),d=a(62),m=a(63),p=a(67),f=a(64),E=function(e){var t=e.candidate,a=e.setCurrentCandidate,n=t.name.replace(/\s/g,"");n.includes("'")&&(n=n.split("'")[0]);var l=n.split(",");return n="".concat(l[1]," ").concat(l[0]),r.a.createElement("div",null,r.a.createElement("span",{className:"candidate",onClick:function(){return a(n)}},n," / ",t.value," ",t.seats?"/ \u2605":""))},v=function(e){var t=e.votes,a=e.candidates;return r.a.createElement("div",{className:"statBox"},r.a.createElement("span",null,"\ud83d\uddf3\ufe0f:",r.a.createElement(s.a,{color:"default"},t),a?r.a.createElement("span",null,"\ud83d\udc64:",r.a.createElement(s.a,{color:"default"},a)):""))},g=function(e){var t=e.group,a=e.setCurrentCandidate,l=e.filter,c=Object(n.useState)(!0),u=Object(i.a)(c,2),o=u[0],g=u[1],C=t.children.length;return r.a.createElement("div",{style:{marginTop:"5px"}},r.a.createElement(d.a,null,r.a.createElement(m.a,{onClick:function(){return g(!o)}},r.a.createElement("b",null,t.name," ",r.a.createElement(s.a,{color:"default"},t.seats)),r.a.createElement(v,{votes:t.value,candidates:C})),r.a.createElement(p.a,{isOpen:o},r.a.createElement(f.a,null,t.children.map((function(e){return e.name.toLowerCase().includes(l)?r.a.createElement(E,{candidate:e,key:e.name,setCurrentCandidate:a}):""}))))))},C=function(e){var t=e.coalition,a=e.setCurrentCandidate,l=e.filter,c=Object(n.useState)(!0),u=Object(i.a)(c,2),o=u[0],E=u[1],C=0;t.children.forEach((function(e){return C+=e.children.length}));return r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(d.a,null,r.a.createElement(m.a,{onClick:function(){return E(!o)}},r.a.createElement("b",null,t.name," ",r.a.createElement(s.a,{color:"default"},t.seats)),r.a.createElement(v,{votes:t.value,candidates:C})),r.a.createElement(p.a,{isOpen:o},r.a.createElement(f.a,null,t.children.map((function(e){return JSON.stringify(e).toLowerCase().includes(l)?r.a.createElement(g,{group:e,key:e.name,setCurrentCandidate:a,filter:e.name.toLowerCase().includes(l)?"":l}):""}))))))},y=function(e){var t=e.candidateData,a=e.setCurrentCandidate,n=e.filter;return void 0===t?"":r.a.createElement(r.a.Fragment,null,t.children.map((function(e){return JSON.stringify(e).toLowerCase().includes(n)?r.a.createElement(C,{coalition:e,key:e.name,setCurrentCandidate:a,filter:e.name.toLowerCase().includes(n)?"":n}):""})))},b=function(e){var t=e.setCurrent,a=e.current,n=e.options,l={color:"gray"};return r.a.createElement("h1",null,n.map((function(e){return r.a.createElement("span",{style:a!=e?l:void 0,key:e,onClick:function(){return t(e)}}," ",e)})))},h=function(e){var t=e.currentCandidate,a=e.candidate,n=e.setCurrentCandidate;if(void 0===a)return"";var l=Array.from(new Set(a.years.map((function(e){return e.nickname})))).filter(Boolean),c=l.map((function(e,t){return(t?", ":"")+e}));return r.a.createElement("div",null,r.a.createElement("h1",null,t),0!==l.length?r.a.createElement("h2",null,"(",c,")"):"","Total votes: ",a.totalVotes," ",r.a.createElement("br",null),"Times up for election: ",a.times,a.years.map((function(e){return r.a.createElement("div",{key:e.year},r.a.createElement("b",null,e.year," "),"votes: ",e.votes," ",e.elected?"/ \u2605":""," (",e.coalition,"/",e.group,")",r.a.createElement("br",null))})),r.a.createElement("button",{onClick:function(){return n("")}},"Return "))},k=a(65),O=a(66),j=function(e){var t=e.filter,a=e.setFilter;return r.a.createElement(k.a,null,r.a.createElement(O.a,{type:"text",placeholder:"Try 'sn\xe4f', 'osy' or 'lauri'",value:t,onChange:function(e){a(e.target.value.toLowerCase())},style:{marginBottom:"10px"}}))},w=function(e){var t=e.groupName,a={backgroundColor:{tsempp:"lightblue",studo:"lightgreen",nation:"lightgreen",stud:"lightgreen",codtho:"lightgreen","\xe4mnesf":"lightgreen",agrof:"lightgreen",sitvas:"red",hyvi:"green",kok:"blue",maltil:"blue",osy:"lightcoral",sd:"lightcoral",lks:"orange",help1:"orange",help2:"orange",help3:"orange",eky:"orange",ekyyfk:"orange","pyk\xe4l\xe4":"orange","(h)lks":"orange","lks/hl":"orange","viik-n":"purple",kumpu:"purple",viikki:"purple",valt:"purple",human:"purple",teol:"purple",penger:"purple","k\xe4ytt":"purple",ps:"#856404",peruss:"#856404","kesk.":"yellow",kesk:"yellow"}[t]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{style:a},t),"   ")},S=function(e){var t=e.candidate,a=e.index,n=e.setCurrentCandidate,l=e.setting,c=Array.from(new Set(t.years.map((function(e){return e.group.toLowerCase()})))).map((function(e){return r.a.createElement(w,{groupName:e,key:e+t.name})}));return r.a.createElement("div",null,r.a.createElement("span",{className:"candidate",key:t.name,onClick:function(){return n(t.name)}},a+1,". ",t.name,"  ",c,"top votes"===l?r.a.createElement("span",null,r.a.createElement("b",null,t.totalVotes)," ",r.a.createElement("i",null,t.times,"x")):r.a.createElement("span",null,t.totalVotes,"/",r.a.createElement("i",null,t.times)," ="," ",r.a.createElement("b",null,Math.round(t.totalVotes/t.times))),r.a.createElement("br",null)))},x=function(e){var t=e.candidates,a=e.setting,n=e.filter,l=e.setCurrentCandidate;return r.a.createElement("div",null,t.map((function(e,t){return JSON.stringify(e).toLowerCase().includes(n)?r.a.createElement(S,{candidate:e,index:t,setCurrentCandidate:l,setting:a,key:e.name}):""})))},L=function(e){var t=e.candidateData,a=e.setCurrentCandidate,l=e.filter,c=e.setFilter,u=Object(n.useState)("top votes"),o=Object(i.a)(u,2),s=o[0],d=o[1],m=Object.values(t);var p=m;return p="top votes"===s?m.sort((function(e,t){return t.totalVotes-e.totalVotes})).slice(0,600):m.sort((function(e,t){return t.totalVotes/t.times-e.totalVotes/e.times})).filter((function(e){return e.times>1})).slice(0,300),r.a.createElement("div",null,r.a.createElement(b,{current:s,setCurrent:d,options:["top votes","best average"]}),r.a.createElement(j,{filter:l,setFilter:c}),r.a.createElement(x,{candidates:p,setting:s,filter:l,setCurrentCandidate:a}))};var N=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(2018),u=Object(i.a)(c,2),s=u[0],d=u[1],m=Object(n.useState)({}),p=Object(i.a)(m,2),f=p[0],E=p[1],v=Object(n.useState)(""),g=Object(i.a)(v,2),C=g[0],k=g[1],O=Object(n.useState)("top candidates"),w=Object(i.a)(O,2),S=w[0],x=w[1],N=Object(n.useState)(""),V=Object(i.a)(N,2),F=V[0],J=V[1];Object(n.useEffect)((function(){o.a.get("/api/sample").then((function(e){l(e.data)}))}),[]),Object(n.useEffect)((function(){o.a.get("/api/candidate").then((function(e){E(e.data)}))}),[]);var T=["yearly","top candidates"];return""!==C?r.a.createElement("div",null,r.a.createElement(h,{currentCandidate:C,candidate:f[C],setCurrentCandidate:k})):"yearly"===S?r.a.createElement("div",null,r.a.createElement(b,{setCurrent:x,current:S,options:T}),r.a.createElement(b,{setCurrent:d,current:s,options:Object.keys(a)}),r.a.createElement(j,{filter:F,setFilter:J}),r.a.createElement(y,{candidateData:a[s],setCurrentCandidate:k,filter:F})):"top candidates"===S?r.a.createElement("div",null,r.a.createElement(b,{setCurrent:x,current:S,options:T}),r.a.createElement(L,{candidateData:f,setCurrentCandidate:k,filter:F,setFilter:J})):void 0};c.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.d3dfa947.chunk.js.map