{"version":3,"sources":["Components/ElectionData.js","Components/MenuButtons.js","Components/ViewSingleCandidate.js","Components/FilterForm.js","Components/TopCandidates.js","App.js","index.js"],"names":["ViewCandidate","candidate","setCurrentCandidate","candidateName","name","replace","includes","split","nameParts","className","onClick","value","seats","InfoCard","votes","candidates","Badge","color","ViewGroup","group","filter","useState","isOpen","setIsOpen","candidateCount","children","length","style","marginTop","Card","CardHeader","Collapse","CardBody","map","toLowerCase","key","ViewCoalition","coalition","forEach","child","JSON","stringify","ElectionData","candidateData","undefined","MenuButtons","setCurrent","current","options","yearStyle","year","ViewSingleCandidate","currentCandidate","nicknames","Array","from","Set","years","nickname","Boolean","formatNicknames","item","index","totalVotes","times","elected","FilterForm","setFilter","Form","Input","type","placeholder","onChange","event","target","marginBottom","TopCandidates","setting","setSetting","candidateList","Object","values","sortedCandidateList","sort","a","b","slice","c","Math","round","App","yearlyData","setYearlyData","currentYear","setCurrentYear","setCandidateData","currentPage","setCurrentPage","useEffect","axios","get","then","response","data","menuOptions","keys","ReactDOM","render","document","getElementById"],"mappings":"sTAGMA,EAAgB,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,UAAWC,EAA0B,EAA1BA,oBAC9BC,EAAgBF,EAAUG,KAAKC,QAAQ,MAAO,IAE9CF,EAAcG,SAAS,OACdH,EAAcI,MAAM,KAAK,GAAGA,MAAM,KAAK,GAClDJ,EAAgBA,EAAcI,MAAM,KAAK,IAE3C,IAAMC,EAAYL,EAAcI,MAAM,KAGtC,OAFAJ,EAAa,UAAMK,EAAU,GAAhB,YAAsBA,EAAU,IAG3C,6BACE,0BAAMC,UAAU,YAAYC,QAAS,kBAAMR,EAAoBC,KAC5DA,EADH,MACqBF,EAAUU,MAD/B,IACuCV,EAAUW,MAAQ,WAAQ,MAMjEC,EAAW,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,WACzB,OACE,yBAAKN,UAAU,WACb,oDACI,kBAACO,EAAA,EAAD,CAAOC,MAAM,WAAWH,GACzBC,EAAa,8CAAS,kBAACC,EAAA,EAAD,CAAOC,MAAM,WAAWF,IAA6B,MAM9EG,EAAY,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,MAAOjB,EAAkC,EAAlCA,oBAAqBkB,EAAa,EAAbA,OAAa,EAChCC,oBAAS,GADuB,mBACrDC,EADqD,KAC7CC,EAD6C,KAetDC,EAAiBL,EAAMM,SAASC,OAEtC,OACE,yBAAKC,MAdU,CACfC,UAAW,QAcT,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYpB,QAAS,kBAlBNa,GAAWD,KAmBxB,2BACGH,EAAMf,KADT,IACe,kBAACY,EAAA,EAAD,CAAOC,MAAM,UAAUE,EAAMP,QAE5C,kBAAC,EAAD,CAAUE,MAAOK,EAAMR,MAAOI,WAAYS,KAE5C,kBAACO,EAAA,EAAD,CAAUT,OAAQA,GAChB,kBAACU,EAAA,EAAD,KACGb,EAAMM,SAASQ,KAAI,SAAAhC,GAAS,OAC3BA,EAAUG,KAAK8B,cAAc5B,SAASc,GACpC,kBAAC,EAAD,CACEnB,UAAWA,EACXkC,IAAKlC,EAAUG,KACfF,oBAAqBA,IAGvB,WAUVkC,EAAgB,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,UAAWnC,EAAkC,EAAlCA,oBAAqBkB,EAAa,EAAbA,OAAa,EACxCC,oBAAS,GAD+B,mBAC7DC,EAD6D,KACrDC,EADqD,KAKhEC,EAAiB,EACrBa,EAAUZ,SAASa,SAAQ,SAAAC,GAAK,OAAKf,GAAgBe,EAAMd,SAASC,UAYpE,OACE,yBAAKC,MAXU,CACfC,UAAW,SAWT,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYpB,QAAS,kBAlBNa,GAAWD,KAmBxB,2BACGe,EAAUjC,KADb,IACmB,kBAACY,EAAA,EAAD,CAAOC,MAAM,WAAWoB,EAAUzB,QAErD,kBAAC,EAAD,CAAUE,MAAOuB,EAAU1B,MAAOI,WAAYS,KAEhD,kBAACO,EAAA,EAAD,CAAUT,OAAQA,GAChB,kBAACU,EAAA,EAAD,KACGK,EAAUZ,SAASQ,KAAI,SAAAd,GAAK,OAC3BqB,KAAKC,UAAUtB,GACZe,cACA5B,SAASc,GACV,kBAAC,EAAD,CACED,MAAOA,EACPgB,IAAKhB,EAAMf,KACXF,oBAAqBA,EACrBkB,OAAQD,EAAMf,KAAK8B,cAAc5B,SAASc,GAAU,GAAKA,IAG3D,WAkCDsB,EAxBM,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,cAAezC,EAAkC,EAAlCA,oBAAqBkB,EAAa,EAAbA,OAE1D,YAAsBwB,IAAlBD,EAAoC,GAGtC,oCACGA,EAAclB,SAASQ,KAAI,SAAAI,GAAS,OACnCG,KAAKC,UAAUJ,GACZH,cACA5B,SAASc,GACV,kBAAC,EAAD,CACEiB,UAAWA,EACXF,IAAKE,EAAUjC,KACfF,oBAAqBA,EACrBkB,OAAQiB,EAAUjC,KAAK8B,cAAc5B,SAASc,GAAU,GAAKA,IAG/D,QC3HKyB,EArBK,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QACpCC,EAAY,CAChBhC,MAAO,QAGT,OACE,4BACG+B,EAAQf,KAAI,SAAAiB,GAAI,OACf,0BACEvB,MAAOoB,GAAWG,EAAOD,OAAYL,EACrCT,IAAKe,EACLxC,QAAS,kBAAMoC,EAAWI,KAEzB,IACAA,QCQIC,EAtBa,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,iBAAkBnD,EAAqC,EAArCA,UAAWC,EAA0B,EAA1BA,oBAC1D,QAAkB0C,IAAd3C,EAAyB,MAAO,GACpC,IAAMoD,EAAYC,MAAMC,KAAK,IAAIC,IAAIvD,EAAUwD,MAAMxB,KAAI,SAAAiB,GAAI,OAAIA,EAAKQ,cAAYtC,OAAOuC,SACnFC,EAAkBP,EAAUpB,KAAI,SAAC4B,EAAMC,GAAP,OAAkBA,EAAQ,KAAO,IAAMD,KAC7E,OACE,6BACE,4BAAKT,GACe,IAAnBC,EAAU3B,OAAa,gCAAMkC,EAAN,KAA+B,GAFzD,gBAGgB3D,EAAU8D,WAH1B,IAGsC,6BAHtC,0BAI0B9D,EAAU+D,MACjC/D,EAAUwD,MAAMxB,KAAI,SAAAiB,GAAI,OACvB,yBAAKf,IAAKe,EAAKA,MACb,2BAAIA,EAAKA,KAAT,KADF,UAEUA,EAAKpC,MAFf,IAEuBoC,EAAKe,QAAU,WAAQ,GAF9C,KAEoDf,EAAKb,UAFzD,IAEqEa,EAAK/B,MAF1E,IAGE,iCAGJ,4BAAQT,QAAS,kBAAMR,EAAoB,MAA3C,a,gBCMSgE,EAtBI,SAAC,GAA2B,IAAzB9C,EAAwB,EAAxBA,OAAQ+C,EAAgB,EAAhBA,UAS5B,OACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACEC,KAAK,OACLC,YAAY,wBACZ5D,MAAOS,EACPoD,SAdmB,SAAAC,GACvBN,EAAUM,EAAMC,OAAO/D,MAAMuB,gBAczBP,MAXa,CACjBgD,aAAc,YCoDHC,EAzDO,SAAC,GAA+D,IAA7DjC,EAA4D,EAA5DA,cAAezC,EAA6C,EAA7CA,oBAAqBkB,EAAwB,EAAxBA,OAAQ+C,EAAgB,EAAhBA,UAAgB,EACrD9C,mBAAS,aAD4C,mBAC5EwD,EAD4E,KACnEC,EADmE,KAI7EC,EAAgBC,OAAOC,OAAOtC,GAQpC,IAAIuC,EAAsBH,EAU1B,OAREG,EADc,cAAZL,EACoBE,EAAcI,MATtC,SAAiBC,EAAGC,GAClB,OAAOA,EAAEtB,WAAaqB,EAAErB,cAQ0BuB,MAAM,EAAG,KAErCP,EACnBI,MARL,SAA2BC,EAAGC,GAC5B,OAAOA,EAAEtB,WAAasB,EAAErB,MAAQoB,EAAErB,WAAaqB,EAAEpB,SAQ9C5C,QAAO,SAAAmE,GAAC,OAAIA,EAAEvB,MAAQ,KACtBsB,MAAM,EAAG,KAIZ,6BACE,kBAAC,EAAD,CAAavC,QAAS8B,EAAS/B,WAAYgC,EAAY9B,QAtB1C,CAAC,YAAa,kBAuB3B,kBAAC,EAAD,CAAY5B,OAAQA,EAAQ+C,UAAWA,IAEtCe,EAAoBjD,KAAI,SAAChC,EAAW6D,GAAZ,OACvBtB,KAAKC,UAAUxC,GACZiC,cACA5B,SAASc,GACV,0BACEX,UAAU,YACV0B,IAAKlC,EAAUG,KACfM,QAAS,kBAAMR,EAAoBD,EAAUG,QAE5C0D,EAAQ,EALX,KAKgB7D,EAAUG,KAAM,IACjB,cAAZyE,EACC,8BACE,2BAAI5E,EAAU8D,YADhB,IACgC,2BAAI9D,EAAU+D,MAAd,MAGhC,8BACG/D,EAAU8D,WADb,IACyB,2BAAI9D,EAAU+D,OADvC,KACoD,IAClD,2BAAIwB,KAAKC,MAAMxF,EAAU8D,WAAa9D,EAAU+D,SAGpD,8BAGF,QC+BK0B,MA7Ef,WAAgB,IAAD,EACuBrE,mBAAS,IADhC,mBACNsE,EADM,KACMC,EADN,OAEyBvE,mBAAS,MAFlC,mBAENwE,EAFM,KAEOC,EAFP,OAG6BzE,mBAAS,IAHtC,mBAGNsB,EAHM,KAGSoD,EAHT,OAImC1E,mBAAS,IAJ5C,mBAIN+B,EAJM,KAIYlD,EAJZ,OAKyBmB,mBAAS,UALlC,mBAKN2E,EALM,KAKOC,EALP,OAMe5E,mBAAS,IANxB,mBAMND,EANM,KAME+C,EANF,KAQb+B,qBAAU,WACRC,IAAMC,IAAI,eAAeC,MAAK,SAAAC,GAC5BV,EAAcU,EAASC,WAExB,IAEHL,qBAAU,WACRC,IAAMC,IAAI,kBAAkBC,MAAK,SAAAC,GAC/BP,EAAiBO,EAASC,WAE3B,IAEH,IAAMC,EAAc,CAAC,SAAU,kBAE/B,MAAyB,KAArBpD,EAEA,6BACE,kBAAC,EAAD,CACEA,iBAAkBA,EAClBnD,UAAW0C,EAAcS,GACzBlD,oBAAqBA,KAKT,WAAhB8F,EAEA,6BACE,kBAAC,EAAD,CACElD,WAAYmD,EACZlD,QAASiD,EACThD,QAASwD,IAEX,kBAAC,EAAD,CACE1D,WAAYgD,EACZ/C,QAAS8C,EACT7C,QAASgC,OAAOyB,KAAKd,KAEvB,kBAAC,EAAD,CAAYvE,OAAQA,EAAQ+C,UAAWA,IAEvC,kBAAC,EAAD,CACExB,cAAegD,EAAWE,GAC1B3F,oBAAqBA,EACrBkB,OAAQA,KAMI,mBAAhB4E,EAEA,6BACE,kBAAC,EAAD,CACElD,WAAYmD,EACZlD,QAASiD,EACThD,QAASwD,IAGX,kBAAC,EAAD,CACE7D,cAAeA,EACfzC,oBAAqBA,EACrBkB,OAAQA,EACR+C,UAAWA,UAbnB,GC3DFuC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.6877b0ac.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { Collapse, Badge, CardBody, Card, CardHeader } from 'reactstrap'\n\nconst ViewCandidate = ({ candidate, setCurrentCandidate }) => {\n  var candidateName = candidate.name.replace(/\\s/g, '')\n  var nickname = ''\n  if (candidateName.includes(\"'\")) {\n    nickname = candidateName.split(\"'\")[1].split(\"'\")[0]\n    candidateName = candidateName.split(\"'\")[0]\n  }\n  const nameParts = candidateName.split(',')\n  candidateName = `${nameParts[1]} ${nameParts[0]}`\n\n  return (\n    <div>\n      <span className=\"candidate\" onClick={() => setCurrentCandidate(candidateName)}>\n        {candidateName} / {candidate.value} {candidate.seats ? '/ ‚òÖ' : ''}\n      </span>\n    </div>\n  )\n}\n\nconst InfoCard = ({ votes, candidates }) => {\n  return (\n    <div className=\"statBox\">\n      <span>\n      üó≥Ô∏è:<Badge color=\"default\">{votes}</Badge> \n        {candidates ? <span>üë§:<Badge color=\"default\">{candidates}</Badge></span> : ''}\n      </span>\n    </div>\n  )\n}\n\nconst ViewGroup = ({ group, setCurrentCandidate, filter }) => {\n  const [isOpen, setIsOpen] = useState(true)\n  const toggle = () => setIsOpen(!isOpen)\n\n  const divStyle = {\n    marginTop: '5px',\n    // padding: '5px'\n  }\n\n  const cardStyle = {\n    display: 'inline-block',\n    padding: '5px',\n    marginLeft: '20px',\n  }\n\n  const candidateCount = group.children.length\n\n  return (\n    <div style={divStyle}>\n      <Card>\n        <CardHeader onClick={() => toggle()}>\n          <b>\n            {group.name} <Badge color=\"danger\">{group.seats}</Badge>\n          </b>\n          <InfoCard votes={group.value} candidates={candidateCount}/>\n        </CardHeader>\n        <Collapse isOpen={isOpen}>\n          <CardBody>\n            {group.children.map(candidate =>\n              candidate.name.toLowerCase().includes(filter) ? (\n                <ViewCandidate\n                  candidate={candidate}\n                  key={candidate.name}\n                  setCurrentCandidate={setCurrentCandidate}\n                />\n              ) : (\n                ''\n              ),\n            )}\n          </CardBody>\n        </Collapse>\n      </Card>\n    </div>\n  )\n}\n\nconst ViewCoalition = ({ coalition, setCurrentCandidate, filter }) => {\n  const [isOpen, setIsOpen] = useState(true)\n\n  const toggle = () => setIsOpen(!isOpen)\n\n  var candidateCount = 0\n  coalition.children.forEach(child => (candidateCount+=child.children.length))\n\n  const divStyle = {\n    marginTop: '10px',\n  }\n\n  const cardStyle = {\n    display: 'inline-block',\n    padding: '5px',\n    marginLeft: '20px',\n  }\n\n  return (\n    <div style={divStyle}>\n      <Card>\n        <CardHeader onClick={() => toggle()}>\n          <b>\n            {coalition.name} <Badge color=\"warning\">{coalition.seats}</Badge>\n          </b>\n          <InfoCard votes={coalition.value} candidates={candidateCount}/>\n        </CardHeader>\n        <Collapse isOpen={isOpen}>\n          <CardBody>\n            {coalition.children.map(group =>\n              JSON.stringify(group)\n                .toLowerCase()\n                .includes(filter) ? (\n                <ViewGroup\n                  group={group}\n                  key={group.name}\n                  setCurrentCandidate={setCurrentCandidate}\n                  filter={group.name.toLowerCase().includes(filter) ? '' : filter}\n                />\n              ) : (\n                ''\n              ),\n            )}\n          </CardBody>\n        </Collapse>\n      </Card>\n    </div>\n  )\n}\n\nconst ElectionData = ({ candidateData, setCurrentCandidate, filter }) => {\n    \n  if (candidateData === undefined) return ''\n\n  return (\n    <>\n      {candidateData.children.map(coalition =>\n        JSON.stringify(coalition)\n          .toLowerCase()\n          .includes(filter) ? (\n          <ViewCoalition\n            coalition={coalition}\n            key={coalition.name}\n            setCurrentCandidate={setCurrentCandidate}\n            filter={coalition.name.toLowerCase().includes(filter) ? '' : filter}\n          />\n        ) : (\n          ''\n        ),\n      )}\n    </>\n  )\n}\n\nexport default ElectionData\n","import React from 'react'\n\nconst MenuButtons = ({ setCurrent, current, options }) => {\n  const yearStyle = {\n    color: 'gray',\n  }\n\n  return (\n    <h1>\n      {options.map(year => (\n        <span\n          style={current != year ? yearStyle : undefined}\n          key={year}\n          onClick={() => setCurrent(year)}\n        >\n          {' '}\n          {year}\n        </span>\n      ))}\n    </h1>\n  )\n}\n\nexport default MenuButtons\n","import React from 'react'\n\nconst ViewSingleCandidate = ({ currentCandidate, candidate, setCurrentCandidate }) => {\n  if (candidate === undefined) return ''\n  const nicknames = Array.from(new Set(candidate.years.map(year => year.nickname))).filter(Boolean)\n  const formatNicknames = nicknames.map((item, index) => (index ? ', ' : '') + item)\n  return (\n    <div>\n      <h1>{currentCandidate}</h1>\n      {nicknames.length!==0 ? <h2>({formatNicknames})</h2> : ''}\n      Total votes: {candidate.totalVotes} <br />\n      Times up for election: {candidate.times}\n      {candidate.years.map(year => (\n        <div key={year.year}>\n          <b>{year.year} </b>\n          votes: {year.votes} {year.elected ? '/ ‚òÖ' : ''} ({year.coalition}/{year.group})\n          <br />\n        </div>\n      ))}\n      <button onClick={() => setCurrentCandidate('')}>Return </button>\n    </div>\n  )\n}\n\nexport default ViewSingleCandidate\n","import React from 'react'\nimport { Form, Input } from 'reactstrap'\n\nconst FilterForm = ({ filter, setFilter }) => {\n  const handleDataChange = event => {\n    setFilter(event.target.value.toLowerCase())\n  }\n\n  const InputField = {\n    marginBottom: '10px',\n  }\n\n  return (\n    <Form>\n      <Input\n        type=\"text\"\n        placeholder=\"Try 'HYAL' or 'Laura'\"\n        value={filter}\n        onChange={handleDataChange}\n        style={InputField}\n      />\n    </Form>\n  )\n}\n\nexport default FilterForm\n","import React, { useState } from 'react'\nimport MenuButtons from './MenuButtons'\nimport FilterForm from './FilterForm'\n\nconst TopCandidates = ({ candidateData, setCurrentCandidate, filter, setFilter }) => {\n  const [setting, setSetting] = useState('top votes')\n  const settings = ['top votes', 'best average']\n\n  const candidateList = Object.values(candidateData)\n  function compare(a, b) {\n    return b.totalVotes - a.totalVotes\n  }\n\n  function compareByElection(a, b) {\n    return b.totalVotes / b.times - a.totalVotes / a.times\n  }\n  var sortedCandidateList = candidateList\n  if (setting === 'top votes') {\n    sortedCandidateList = candidateList.sort(compare).slice(0, 300)\n  } else {\n    sortedCandidateList = candidateList\n      .sort(compareByElection)\n      .filter(c => c.times > 1)\n      .slice(0, 300)\n  }\n\n  return (\n    <div>\n      <MenuButtons current={setting} setCurrent={setSetting} options={settings}/>\n      <FilterForm filter={filter} setFilter={setFilter} />\n\n      {sortedCandidateList.map((candidate, index) =>\n        JSON.stringify(candidate)\n          .toLowerCase()\n          .includes(filter) ? (\n          <span\n            className=\"candidate\"\n            key={candidate.name}\n            onClick={() => setCurrentCandidate(candidate.name)}\n          >\n            {index + 1}. {candidate.name}{' '}\n            {setting === 'top votes' ? (\n              <span>\n                <b>{candidate.totalVotes}</b> <i>{candidate.times}x</i>\n              </span>\n            ) : (\n              <span>\n                {candidate.totalVotes}/<i>{candidate.times}</i> ={' '}\n                <b>{Math.round(candidate.totalVotes / candidate.times)}</b>\n              </span>\n            )}\n            <br />\n          </span>\n        ) : (\n          ''\n        ),\n      )}\n    </div>\n  )\n}\n\nexport default TopCandidates\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport ElectionData from './Components/ElectionData'\nimport MenuButtons from './Components/MenuButtons'\nimport ViewSingleCandidate from './Components/ViewSingleCandidate'\nimport TopCandidates from './Components/TopCandidates'\nimport FilterForm from './Components/FilterForm'\n\nfunction App() {\n  const [yearlyData, setYearlyData] = useState({})\n  const [currentYear, setCurrentYear] = useState(2018)\n  const [candidateData, setCandidateData] = useState({})\n  const [currentCandidate, setCurrentCandidate] = useState('')\n  const [currentPage, setCurrentPage] = useState('yearly')\n  const [filter, setFilter] = useState('')\n\n  useEffect(() => {\n    axios.get('/api/sample').then(response => {\n      setYearlyData(response.data)\n    })\n  }, [])\n\n  useEffect(() => {\n    axios.get('/api/candidate').then(response => {\n      setCandidateData(response.data)\n    })\n  }, [])\n\n  const menuOptions = ['yearly', 'top candidates']\n\n  if (currentCandidate !== '') {\n    return (\n      <div>\n        <ViewSingleCandidate\n          currentCandidate={currentCandidate}\n          candidate={candidateData[currentCandidate]}\n          setCurrentCandidate={setCurrentCandidate}\n        />\n      </div>\n    )\n  }\n  if (currentPage === 'yearly') {\n    return (\n      <div>\n        <MenuButtons\n          setCurrent={setCurrentPage}\n          current={currentPage}\n          options={menuOptions}\n        />\n        <MenuButtons\n          setCurrent={setCurrentYear}\n          current={currentYear}\n          options={Object.keys(yearlyData)}\n        />\n        <FilterForm filter={filter} setFilter={setFilter} />\n\n        <ElectionData\n          candidateData={yearlyData[currentYear]}\n          setCurrentCandidate={setCurrentCandidate}\n          filter={filter}\n        />\n      </div>\n    )\n  }\n\n  if (currentPage === 'top candidates') {\n    return (\n      <div>\n        <MenuButtons\n          setCurrent={setCurrentPage}\n          current={currentPage}\n          options={menuOptions}\n        />\n\n        <TopCandidates\n          candidateData={candidateData}\n          setCurrentCandidate={setCurrentCandidate}\n          filter={filter}\n          setFilter={setFilter}\n        />\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}