{"version":3,"sources":["Components/ElectionData.js","Components/MenuButtons.js","Components/ViewSingleCandidate.js","Components/FilterForm.js","Components/TopCandidates.js","App.js","index.js"],"names":["ViewCandidate","candidate","setCurrentCandidate","candidateName","name","replace","includes","split","nameParts","className","onClick","value","seats","InfoCard","votes","candidates","Badge","color","ViewGroup","group","filter","useState","isOpen","setIsOpen","candidateCount","children","length","style","marginTop","Card","CardHeader","Collapse","CardBody","map","toLowerCase","key","ViewCoalition","coalition","forEach","child","JSON","stringify","ElectionData","candidateData","undefined","MenuButtons","setCurrent","current","options","yearStyle","year","ViewSingleCandidate","currentCandidate","nicknames","Array","from","Set","Object","values","years","nickname","Boolean","formatNicknames","item","index","totalVotes","times","elected","FilterForm","setFilter","Form","Input","type","placeholder","onChange","event","target","marginBottom","GroupBadge","groupName","badgeStyle","backgroundColor","tsempp","studo","nation","stud","codtho","ämnesf","agrof","sitvas","hyvi","kok","maltil","osy","sd","lks","help1","help2","help3","eky","ekyyfk","pykälä","kumpu","viikki","valt","human","teol","penger","meikku","käytt","ps","peruss","kesk","getYear","R","DisplayTopCandidate","setting","selectedYear","groups","groupBadges","basicData","Math","round","DisplayTopCandidates","TopCandidates","setSetting","setSelectedYear","candidateList","sortedCandidateList","sort","a","b","slice","c","y","console","log","yearSelectionButtons","menuAndHeader","App","yearlyData","setYearlyData","currentYear","setCurrentYear","setCandidateData","currentPage","setCurrentPage","useEffect","axios","get","then","response","data","menuOptions","keys","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6688c585.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { Collapse, Badge, CardBody, Card, CardHeader } from 'reactstrap'\n\nconst ViewCandidate = ({ candidate, setCurrentCandidate }) => {\n  var candidateName = candidate.name.replace(/\\s/g, '')\n//   var nickname = ''\n  if (candidateName.includes(\"'\")) {\n    // nickname = candidateName.split(\"'\")[1].split(\"'\")[0]\n    candidateName = candidateName.split(\"'\")[0]\n  }\n  const nameParts = candidateName.split(',')\n  candidateName = `${nameParts[1]} ${nameParts[0]}`\n\n  return (\n    <div>\n      <span className=\"candidate\" onClick={() => setCurrentCandidate(candidateName)}>\n        {candidateName} / {candidate.value} {candidate.seats ? '/ ★' : ''}\n      </span>\n    </div>\n  )\n}\n\nconst InfoCard = ({ votes, candidates }) => {\n  return (\n    <div className=\"statBox\">\n      <span>\n      🗳️:<Badge color=\"default\">{votes}</Badge> \n        {candidates ? <span>👤:<Badge color=\"default\">{candidates}</Badge></span> : ''}\n      </span>\n    </div>\n  )\n}\n\nconst ViewGroup = ({ group, setCurrentCandidate, filter }) => {\n  const [isOpen, setIsOpen] = useState(true)\n  const toggle = () => setIsOpen(!isOpen)\n\n  const divStyle = {\n    marginTop: '5px',\n    // padding: '5px'\n  }\n\n  const cardStyle = {\n    display: 'inline-block',\n    padding: '5px',\n    marginLeft: '20px',\n  }\n\n  const candidateCount = group.children.length\n\n  return (\n    <div style={divStyle}>\n      <Card>\n        <CardHeader onClick={() => toggle()}>\n          <b>\n            {group.name} <Badge color=\"default\">{group.seats}</Badge>\n          </b>\n          <InfoCard votes={group.value} candidates={candidateCount}/>\n        </CardHeader>\n        <Collapse isOpen={isOpen}>\n          <CardBody>\n            {group.children.map(candidate =>\n              candidate.name.toLowerCase().includes(filter) ? (\n                <ViewCandidate\n                  candidate={candidate}\n                  key={candidate.name}\n                  setCurrentCandidate={setCurrentCandidate}\n                />\n              ) : (\n                ''\n              ),\n            )}\n          </CardBody>\n        </Collapse>\n      </Card>\n    </div>\n  )\n}\n\nconst ViewCoalition = ({ coalition, setCurrentCandidate, filter }) => {\n  const [isOpen, setIsOpen] = useState(true)\n\n  const toggle = () => setIsOpen(!isOpen)\n\n  var candidateCount = 0\n  coalition.children.forEach(child => (candidateCount+=child.children.length))\n\n  const divStyle = {\n    marginTop: '10px',\n  }\n\n  const cardStyle = {\n    display: 'inline-block',\n    padding: '5px',\n    marginLeft: '20px',\n  }\n\n  return (\n    <div style={divStyle}>\n      <Card>\n        <CardHeader onClick={() => toggle()}>\n          <b>\n            {coalition.name} <Badge color=\"default\">{coalition.seats}</Badge>\n          </b>\n          <InfoCard votes={coalition.value} candidates={candidateCount}/>\n        </CardHeader>\n        <Collapse isOpen={isOpen}>\n          <CardBody>\n            {coalition.children.map(group =>\n              JSON.stringify(group)\n                .toLowerCase()\n                .includes(filter) ? (\n                <ViewGroup\n                  group={group}\n                  key={group.name}\n                  setCurrentCandidate={setCurrentCandidate}\n                  filter={group.name.toLowerCase().includes(filter) ? '' : filter}\n                />\n              ) : (\n                ''\n              ),\n            )}\n          </CardBody>\n        </Collapse>\n      </Card>\n    </div>\n  )\n}\n\nconst ElectionData = ({ candidateData, setCurrentCandidate, filter }) => {\n    \n  if (candidateData === undefined) return ''\n\n  return (\n    <>\n      {candidateData.children.map(coalition =>\n        JSON.stringify(coalition)\n          .toLowerCase()\n          .includes(filter) ? (\n          <ViewCoalition\n            coalition={coalition}\n            key={coalition.name}\n            setCurrentCandidate={setCurrentCandidate}\n            filter={coalition.name.toLowerCase().includes(filter) ? '' : filter}\n          />\n        ) : (\n          ''\n        ),\n      )}\n    </>\n  )\n}\n\nexport default ElectionData\n","import React from 'react'\n\nconst MenuButtons = ({ setCurrent, current, options }) => {\n  const yearStyle = {\n    color: 'gray',\n  }\n\n  return (\n    <h1>\n      {options.map(year => (\n        <span\n          style={current != year ? yearStyle : undefined}\n          key={year}\n          onClick={() => setCurrent(year)}\n        >\n          {' '}\n          {year}\n        </span>\n      ))}\n    </h1>\n  )\n}\n\nexport default MenuButtons\n","import React from 'react'\n\nconst ViewSingleCandidate = ({ currentCandidate, candidate, setCurrentCandidate }) => {\n  if (candidate === undefined) return ''\n  const nicknames = Array.from(new Set(Object.values(candidate.years).map(year => year.nickname))).filter(Boolean)\n  const formatNicknames = nicknames.map((item, index) => (index ? ', ' : '') + item)\n  return (\n    <div>\n      <h1>{currentCandidate}</h1>\n      {nicknames.length!==0 ? <h2>({formatNicknames})</h2> : ''}\n      Total votes: {candidate.totalVotes} <br />\n      Times up for election: {candidate.times}\n      {Object.values(candidate.years).map(year => (\n        <div key={year.year}>\n          <b>{year.year} </b>\n          votes: {year.votes} {year.elected ? '/ ★' : ''} ({year.coalition}/{year.group})\n          <br />\n        </div>\n      ))}\n      <button onClick={() => setCurrentCandidate('')}>Return </button>\n    </div>\n  )\n}\n\nexport default ViewSingleCandidate\n","import React from 'react'\nimport { Form, Input } from 'reactstrap'\n\nconst FilterForm = ({ filter, setFilter }) => {\n  const handleDataChange = event => {\n    setFilter(event.target.value.toLowerCase())\n  }\n\n  const InputField = {\n    marginBottom: '10px',\n  }\n\n  return (\n    <Form>\n      <Input\n        type=\"text\"\n        placeholder=\"Try 'snäf', 'osy' or 'lauri'\"\n        value={filter}\n        onChange={handleDataChange}\n        style={InputField}\n      />\n    </Form>\n  )\n}\n\nexport default FilterForm\n","import React, { useState } from 'react'\nimport * as R from 'ramda';\nimport MenuButtons from './MenuButtons'\nimport FilterForm from './FilterForm'\nimport { Badge, Button } from 'reactstrap'\n\nconst GroupBadge = ({ groupName }) => {\n  const groupColors = {\n    tsempp: 'lightblue',\n    studo: 'lightgreen',\n    nation: 'lightgreen',\n    stud: 'lightgreen',\n    codtho: 'lightgreen',\n    ämnesf: 'lightgreen',\n    agrof: 'lightgreen',\n    sitvas: 'red',\n    hyvi: 'green',\n    kok: 'blue',\n    maltil: 'blue',\n    osy: 'lightcoral',\n    sd: 'lightcoral',\n    lks: 'orange',\n    help1: 'orange',\n    help2: 'orange',\n    help3: 'orange',\n    eky: 'orange',\n    ekyyfk: 'orange',\n    pykälä: 'orange',\n    '(h)lks': 'orange',\n    'lks/hl': 'orange',\n    'viik-n': 'purple',\n    kumpu: 'purple',\n    viikki: 'purple',\n    valt: 'purple',\n    human: 'purple',\n    teol: 'purple',\n    penger: 'purple',\n    meikku: 'purple',\n    käytt: 'purple',\n    ps: '#856404',\n    peruss: '#856404',\n    'kesk.': 'yellow',\n    kesk: 'yellow',\n  }\n\n  const badgeStyle = {\n    backgroundColor: groupColors[groupName],\n  }\n  return (\n    <>\n      <Badge style={badgeStyle}>{groupName}</Badge>\n      {'   '}\n    </>\n  )\n}\n\nconst getYear = (candidate, year) =>  {\n  return R.find(R.propEq('year', year))(candidate.years)\n}\nconst DisplayTopCandidate = ({ candidate, index, setCurrentCandidate, setting, selectedYear }) => {\n  var groups = Array.from(\n    new Set(Object.values(candidate.years).map(year => year.group.toLowerCase())),\n  )\n\n\n  if (setting === 'year') groups = [getYear(candidate, selectedYear).group.toLowerCase()]\n\n  const groupBadges = groups.map(group => (\n    <GroupBadge groupName={group} key={group + candidate.name} />\n  ))\n\n  const basicData = (\n    <>\n      {index + 1}. {candidate.name}\n      {'  '}\n      {groupBadges}\n    </>\n  )\n\n  return (\n    <div>\n      <span\n        className=\"candidate\"\n        key={candidate.name}\n        onClick={() => setCurrentCandidate(candidate.name)}\n      >\n        {basicData}\n        {setting === 'votes' ? (\n          <span>\n            <b>{candidate.totalVotes}</b> <i>{candidate.times}x</i>\n          </span>\n        ) : setting === 'average' ? (\n          <span>\n            {candidate.totalVotes}/<i>{candidate.times}</i> ={' '}\n            <b>{Math.round(candidate.totalVotes / candidate.times)}</b>\n          </span>\n        ) : (\n          <span>\n            <b>{getYear(candidate, selectedYear).votes}</b>\n          </span>\n        )}\n        <br />\n      </span>\n    </div>\n  )\n}\n\nconst DisplayTopCandidates = ({\n  candidates,\n  setting,\n  filter,\n  setCurrentCandidate,\n  selectedYear,\n}) => {\n  return (\n    <div>\n      {candidates.map((candidate, index) =>\n        (JSON.stringify((setting === 'year' ? candidate.years[selectedYear] : candidate))+candidate.name)\n          .toLowerCase()\n          .includes(filter) ? (\n          <DisplayTopCandidate\n            candidate={candidate}\n            index={index}\n            setCurrentCandidate={setCurrentCandidate}\n            setting={setting}\n            key={candidate.name}\n            selectedYear={selectedYear}\n          />\n        ) : (\n          ''\n        ),\n      )}\n    </div>\n  )\n}\n\nconst TopCandidates = ({ candidateData, setCurrentCandidate, filter, setFilter }) => {\n  const [setting, setSetting] = useState('votes')\n  const [selectedYear, setSelectedYear] = useState(2020)\n  const settings = ['votes', 'average', 'year']\n  \n  const candidateList = Object.values(candidateData)\n  if (candidateList.length === 0) return ''\n\n  function compare(a, b) {\n    return b.totalVotes - a.totalVotes\n  }\n\n  function compareByYear(year) {\n    return function compare(a, b) {\n\n      return getYear(b, year).votes - getYear(a, year).votes\n    }\n  }\n\n  function compareAverage(a, b) {\n    return b.totalVotes / b.times - a.totalVotes / a.times\n  }\n  var sortedCandidateList = [...candidateList]\n  \n  if (setting === 'votes') {\n    sortedCandidateList = sortedCandidateList.sort(compare).slice(0, 600)\n  } else if (setting === 'average') {\n    sortedCandidateList = candidateList\n      .sort(compareAverage)\n      .filter(c => c.times > 1)\n      .slice(0, 300)\n  } else if (setting === 'year') {\n    sortedCandidateList = sortedCandidateList.filter(c => {\n      const years = c.years.map(y => y.year)\n      return years.includes(selectedYear);\n    })\n    sortedCandidateList = sortedCandidateList.sort(compareByYear(selectedYear))\n    console.log(sortedCandidateList)\n    \n  }\n  const yearStyle = { color: 'gray' }\n  const yearSelectionButtons = (\n    <p>\n      View top candidates for year:{' '}\n      {[2012, 2014, 2016, 2018, 2020].map(y => (\n        <b\n          style={y !== selectedYear ? yearStyle : undefined}\n          key={y}\n          onClick={() => setSelectedYear(y)}\n        >\n          {y}\n          {'  '}\n        </b>\n      ))}\n    </p>\n  )\n\n  const menuAndHeader = (\n    <>\n      <MenuButtons current={setting} setCurrent={setSetting} options={settings} />\n      <FilterForm filter={filter} setFilter={setFilter} />\n    </>\n  )\n\n  return (\n    <div>\n      {menuAndHeader}\n      {setting === 'year' ? yearSelectionButtons : ''}\n      <DisplayTopCandidates\n        candidates={sortedCandidateList}\n        setting={setting}\n        filter={filter}\n        setCurrentCandidate={setCurrentCandidate}\n        selectedYear={selectedYear}\n      />\n    </div>\n  )\n}\n\nexport default TopCandidates\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport ElectionData from './Components/ElectionData'\nimport MenuButtons from './Components/MenuButtons'\nimport ViewSingleCandidate from './Components/ViewSingleCandidate'\nimport TopCandidates from './Components/TopCandidates'\nimport FilterForm from './Components/FilterForm'\n\nfunction App() {\n  const [yearlyData, setYearlyData] = useState({})\n  const [currentYear, setCurrentYear] = useState(2020)\n  const [candidateData, setCandidateData] = useState({})\n  const [currentCandidate, setCurrentCandidate] = useState('')\n  const [currentPage, setCurrentPage] = useState('top candidates')\n  const [filter, setFilter] = useState('')\n\n  useEffect(() => {\n    axios.get('/api/sample').then(response => {\n      setYearlyData(response.data)\n    })\n  }, [])\n\n  useEffect(() => {\n    axios.get('/api/candidate').then(response => {\n      setCandidateData(response.data)\n    })\n  }, [])\n\n  const menuOptions = ['yearly', 'top candidates']\n\n  if (currentCandidate !== '') {\n    return (\n      <div>\n        <ViewSingleCandidate\n          currentCandidate={currentCandidate}\n          candidate={candidateData[currentCandidate]}\n          setCurrentCandidate={setCurrentCandidate}\n        />\n      </div>\n    )\n  }\n  if (currentPage === 'yearly') {\n    return (\n      <div>\n        <MenuButtons\n          setCurrent={setCurrentPage}\n          current={currentPage}\n          options={menuOptions}\n        />\n        <MenuButtons\n          setCurrent={setCurrentYear}\n          current={currentYear}\n          options={Object.keys(yearlyData)}\n        />\n        <FilterForm filter={filter} setFilter={setFilter} />\n\n        <ElectionData\n          candidateData={yearlyData[currentYear]}\n          setCurrentCandidate={setCurrentCandidate}\n          filter={filter}\n        />\n      </div>\n    )\n  }\n\n  if (currentPage === 'top candidates') {\n    return (\n      <div>\n        <MenuButtons\n          setCurrent={setCurrentPage}\n          current={currentPage}\n          options={menuOptions}\n        />\n\n        <TopCandidates\n          candidateData={candidateData}\n          setCurrentCandidate={setCurrentCandidate}\n          filter={filter}\n          setFilter={setFilter}\n        />\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}